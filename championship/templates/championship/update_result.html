{% extends "championship/base.html" %}

{% load crispy_forms_tags %}
{% load static %}

{% block extrahead %}
{% endblock %}

{% block content %}
    <h2>Edit Result of {{ object.player.name }}</h2>

    <form method="post">
        {% csrf_token %}
        <div id="div_id_player_name" class="mb-3">
            <label for="id_player_name" class="form-label requiredField">
                Player name<span class="asteriskField">*</span>
            </label>
            <div class="input-group">
                <input type="text" name="player_name" value="{{ form.player_name.value }}" data-autocomplete-url="{% url 'player-autocomplete-list' %}" autocomplete="off" class="textinput textInput form-control" required="" id="id_player_name">
                <div id="autocomplete-dropdown" class="dropdown-menu" style="position: absolute; top: 100%; left: 0; z-index: 1000;"></div>
            </div>
        </div>

        {% for field in form %}
            {% if field.name != 'player_name' %}
                {{ field|as_crispy_field }}
            {% endif %}
        {% endfor %}
        <button class="btn btn-secondary" type="submit">Save</button>
    </form>

    <div class="d-flex pt-5">
        <a class="btn btn-secondary-light" href="{% url 'event_details' object.event.id %}">Back to Event Details</a>
    </div>
{% endblock %}

{% block scripts %}
    <script src="{% static 'player-autocomplete.js' %}"></script>
{% endblock %}